<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Live Update</title>
    {% load static %}
    <script type="text/javascript" src="{% static 'jquery.min.js' %}"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            alert("hello liveblog!")
        })

    </script>
    <style type="text/css">
        body {
            margin: 30px;
            font-family: sans-serif;
            background: #fff;
        }
        h1 {
            background: #ccf;
            padding:5px;
        }
        div.update {
            width:100%;
            padding: 5px;
        }
        div.even {
            background: #ddd;
        }
        div.timestamp {
            float: left;
            font-weight: bold;
        }
        div.text {
            float: left;
            padding-left: 10px;
        }
        div.clear {
            clear: both;
            height: 1px;
        }
    </style>
</head>
<body>
    <h1>Welcome to the Live Update</h1>
    <p>This site will automatically refresh itself every minute with new content - please <b>do not</b> reload the page!</p>
    {{ object_list1 }}
    {% if object_list %}
        <div id="update-holder">
            {% for object in object_list %}
                <div class="update {% cycle 'even' 'odd' %}" id="{{ object.id }}">
                    <div class="text">
                        {{ object.text }}
                    </div>
                    <div class="timestamp">
                        {{ object.timestamp|date:"Y-m-d H:i:s" }}
                    </div>
                    <div class="clear"></div>
                </div>
            {% endfor %}
        </div>
     {% else %}
        <p>No updates yet - please check back later!</p>
    {% endif %}
</body>
</html>